<!DOCTYPE HTML>
<html>
	<head>
		<title>Plateforme membres Robots-JU</title>
		<meta charset="UTF-8" />
		<link rel="stylesheet" type="text/css" href="css/login.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>

	<body>		
		<div class="container">    
			<h1>Membres Robots-JU</h1>
			<p>La plateforme membre Robots-JU est réservée aux membres du club et est actuellement en travaux.</p>
		</div>
		<div class="box">
			<fieldset class="boxBody">
				<label>Nom d'utilisateur:</label>
				<input type="text" id="username">
				<label>Mot de passe:</label>
				<input type="password" id="password">
			</fieldset>
			<footer>
				<button id="btnLogin">Login</button>
			</footer>
		</div>
		<script>
			document.getElementById("btnLogin").onclick=function(){
				const user={
					username: document.getElementById("username").value,
					password: document.getElementById("password").value
				}
				const options={
					method: 'POST',
					body: JSON.stringify(user),
					headers: {
						'Content-Type':'application/json'
					}
				}
				fetch("/login",options).then(response=>{
					if (response.status==204) {
						document.location="/user.html";
					} else {
						alert("Nom d'utilisateur ou mot de passe invalide");
					}
				});
			}
		</script>
	</body>
</html>